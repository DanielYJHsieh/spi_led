# é‚è¼¯åˆ†æå„€ (LA) æ¸¬è©¦æŒ‡å—

## ğŸ“Š é€£æ¥è¨­å®š

### ğŸ”Œ ç¡¬é«”é€£æ¥

```
Arduino UNO          é‚è¼¯åˆ†æå„€ (LA)         aRGB LED
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             â”‚     â”‚             â”‚        â”‚         â”‚
â”‚   Pin 11    â”œâ”€â”€â”€â”€â”€â”¤ CH0 (DATA)  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤ DIN     â”‚
â”‚   (MOSI)    â”‚     â”‚             â”‚        â”‚         â”‚
â”‚             â”‚     â”‚             â”‚        â”‚         â”‚
â”‚   Pin 13    â”œâ”€â”€â”€â”€â”€â”¤ CH1 (CLK)   â”‚        â”‚         â”‚
â”‚   (SCK)     â”‚     â”‚             â”‚        â”‚         â”‚
â”‚             â”‚     â”‚             â”‚        â”‚         â”‚
â”‚    GND      â”œâ”€â”€â”€â”€â”€â”¤ GND         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤ GND     â”‚
â”‚             â”‚     â”‚             â”‚        â”‚         â”‚
â”‚     5V      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ VCC     â”‚
â”‚             â”‚     â”‚             â”‚        â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é‡è¦æé†’:
âœ… CH0 (DATA) æ˜¯æœ€é‡è¦çš„è¨Šè™Ÿ
âœ… CH1 (CLK) ç”¨æ–¼æ™‚åºåƒè€ƒ
âœ… ä¸éœ€è¦é€£æ¥ CS/SS (Pin 10)
âœ… ç¢ºä¿å…±åŒæ¥åœ°
```

### âš™ï¸ LA è¨­å®šåƒæ•¸

| åƒæ•¸ | å»ºè­°å€¼ | èªªæ˜ |
|------|--------|------|
| æ¡æ¨£ç‡ | â‰¥25MHz | SPIé »ç‡(3.3MHz)çš„8å€ä»¥ä¸Š |
| è§¸ç™¼æ¨¡å¼ | CH0 ä¸Šå‡æ²¿ | æ•¸æ“šé–‹å§‹å‚³è¼¸æ™‚è§¸ç™¼ |
| è¨˜éŒ„é•·åº¦ | â‰¥100Î¼s | åŒ…å«å®Œæ•´çš„24ä½+Latch Time |
| é€šé“è¨­å®š | CH0:DATA, CH1:CLK | é›™é€šé“åŒæ­¥è¨˜éŒ„ |

## ğŸ¯ æ¸¬è©¦ç¨‹å¼ä½¿ç”¨

### ä½¿ç”¨ `la_test_version.ino`

é€™å€‹å°ˆé–€çš„æ¸¬è©¦ç‰ˆæœ¬æä¾›ï¼š

1. **å·²çŸ¥ä½å…ƒæ¨¡å¼æ¸¬è©¦** - é©—è­‰ç·¨ç¢¼é‚è¼¯
2. **å–®ä¸€é¡è‰²æ¸¬è©¦** - é©—è­‰RGBå‚³è¼¸
3. **å®Œæ•´æ•¸æ“šæ¸¬è©¦** - é©—è­‰24ä½å‚³è¼¸
4. **é€£çºŒç™¼é€æ¸¬è©¦** - é©—è­‰æ™‚åºé–“éš”

### ğŸš€ é–‹å§‹æ¸¬è©¦

1. ä¸Šå‚³ `la_test_version.ino` åˆ° Arduino
2. é–‹å•Ÿä¸²åˆ—ç›£è¦–å™¨ (115200 baud)
3. é€£æ¥ LA æ¢æ£’
4. è¨­å®š LA åƒæ•¸
5. æŒ‰ä»»æ„éµé–‹å§‹æ¸¬è©¦

## ğŸ“ˆ é æœŸæ³¢å½¢åˆ†æ

### Logic 0 å’Œ Logic 1 è­˜åˆ¥

```
Logic 0 (SPI: 1000):
     â–„â–„â–„â–„            
    â–„    â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„
   ç´„300ns  ç´„900ns

Logic 1 (SPI: 1110):
     â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„      
    â–„           â–„â–„â–„â–„â–„
   ç´„900ns    ç´„300ns
```

### 8ä½åˆ°32ä½ç·¨ç¢¼ç¯„ä¾‹

åŸå§‹æ•¸æ“š: `0xAA` (10101010)
ç·¨ç¢¼çµæœ: `0xE8E8E8E8`

```
åŸå§‹ä½å…ƒ:  1  0  1  0  1  0  1  0
SPIç·¨ç¢¼: 1110 1000 1110 1000 1110 1000 1110 1000
åå…­é€²ä½:  E   8   E   8   E   8   E   8
```

### å®Œæ•´RGBå‚³è¼¸æ™‚åº

```
æ™‚é–“è»¸: 0    24   48   72   96  Î¼s
       â”‚    â”‚    â”‚    â”‚    â”‚
       R    G    B    Latch
      (8bit)(8bit)(8bit)(>50Î¼s)
      
æ¯å€‹é¡è‰²: 8bit Ã— 4 SPI bits = 32 SPI bits
æ¯ SPI bit: ç´„300ns
æ¯é¡è‰²æ™‚é–“: ç´„9.6Î¼s
```

## ğŸ” é©—è­‰æª¢æŸ¥é»

### âœ… åŸºæœ¬é€£æ¥é©—è­‰

1. **DATAç·šæœ‰è¨Šè™Ÿ** - CH0æ‡‰è©²çœ‹åˆ°SPIå‚³è¼¸
2. **CLKç·šæœ‰æ™‚é˜** - CH1æ‡‰è©²çœ‹åˆ°3.3MHzæ™‚é˜
3. **æ™‚åºåŒæ­¥** - DATAè®ŠåŒ–æ‡‰è©²èˆ‡CLKé‚Šæ²¿å°é½Š

### âœ… ç·¨ç¢¼é‚è¼¯é©—è­‰

æ¸¬è©¦ `0x00` (00000000):
- é æœŸ: 8å€‹ `1000` æ¨¡å¼
- LAæ‡‰é¡¯ç¤º: `0x88888888`

æ¸¬è©¦ `0xFF` (11111111):
- é æœŸ: 8å€‹ `1110` æ¨¡å¼  
- LAæ‡‰é¡¯ç¤º: `0xEEEEEEEE`

æ¸¬è©¦ `0xAA` (10101010):
- é æœŸ: äº¤æ›¿ `1110 1000` æ¨¡å¼
- LAæ‡‰é¡¯ç¤º: `0xE8E8E8E8`

### âœ… RGBé †åºé©—è­‰

è¨­å®š R=0x80, G=0x40, B=0x20 æ™‚ï¼š
1. å‰32ä½æ‡‰è©²æ˜¯Rçš„ç·¨ç¢¼
2. ä¸­32ä½æ‡‰è©²æ˜¯Gçš„ç·¨ç¢¼  
3. å¾Œ32ä½æ‡‰è©²æ˜¯Bçš„ç·¨ç¢¼
4. æœ€å¾Œæ˜¯>50Î¼sçš„ä½é›»å¹³

### âœ… Latch Timeé©—è­‰

- åœ¨96ä½RGBæ•¸æ“šå¾Œ
- æ‡‰è©²æœ‰>50Î¼sçš„æŒçºŒä½é›»å¹³
- ç¨‹å¼è¨­å®šç‚º60Î¼s

## ğŸ› å¸¸è¦‹å•é¡Œè¨ºæ–·

### å•é¡Œ1: æ²’æœ‰è¨Šè™Ÿ

**å¯èƒ½åŸå› :**
- LAæ¢æ£’æ²’æœ‰æ­£ç¢ºé€£æ¥
- Arduinoç¨‹å¼æ²’æœ‰åŸ·è¡Œ
- SPIæ²’æœ‰æ­£ç¢ºåˆå§‹åŒ–

**æª¢æŸ¥æ–¹æ³•:**
- ç¢ºèªæ¢æ£’é€£æ¥åˆ°Pin 11å’ŒPin 13
- æª¢æŸ¥ä¸²åˆ—ç›£è¦–å™¨è¼¸å‡º
- é©—è­‰Arduinoé›»æºæ­£å¸¸

### å•é¡Œ2: æ™‚åºä¸æ­£ç¢º

**å¯èƒ½åŸå› :**
- LAæ¡æ¨£ç‡å¤ªä½
- è§¸ç™¼è¨­å®šéŒ¯èª¤
- æ™‚åŸºè¨­å®šä¸ç•¶

**è§£æ±ºæ–¹æ³•:**
- æé«˜æ¡æ¨£ç‡åˆ°25MHzä»¥ä¸Š
- ä½¿ç”¨CH0ä¸Šå‡æ²¿è§¸ç™¼
- èª¿æ•´æ™‚åŸºé¡¯ç¤ºå®Œæ•´æ³¢å½¢

### å•é¡Œ3: ç·¨ç¢¼éŒ¯èª¤

**å¯èƒ½åŸå› :**
- SPIæ¨¡å¼è¨­å®šéŒ¯èª¤
- ä½å…ƒé †åºéŒ¯èª¤
- ç·¨ç¢¼é‚è¼¯éŒ¯èª¤

**æª¢æŸ¥æ–¹æ³•:**
- ç¢ºèªä½¿ç”¨SPI_MODE0
- ç¢ºèªä½¿ç”¨MSBFIRST
- å°ç…§å·²çŸ¥æ¨¡å¼æ¸¬è©¦çµæœ

## ğŸ“‹ æ¸¬è©¦è¨˜éŒ„è¡¨

| æ¸¬è©¦é …ç›® | è¼¸å…¥å€¼ | é æœŸç·¨ç¢¼ | LAæ¸¬é‡å€¼ | çµæœ |
|----------|--------|----------|----------|------|
| 0x00 | 00000000 | 0x88888888 | ________ | â˜ |
| 0xFF | 11111111 | 0xEEEEEEEE | ________ | â˜ |
| 0xAA | 10101010 | 0xE8E8E8E8 | ________ | â˜ |
| 0x55 | 01010101 | 0x8E8E8E8E | ________ | â˜ |
| RGBå®Œæ•´ | R,G,B | 96ä½+Latch | ________ | â˜ |

## ğŸ“ é€²éšåˆ†æ

### è¨ˆç®—é©—è­‰

å°æ–¼ä»»æ„8ä½å€¼ï¼Œå¯ä»¥æ‰‹å‹•è¨ˆç®—32ä½ç·¨ç¢¼ï¼š

```python
def encode_byte(value):
    result = 0
    for i in range(8):
        bit = (value >> (7-i)) & 1
        if bit:
            result = (result << 4) | 0xE  # 1110
        else:
            result = (result << 4) | 0x8  # 1000
    return result

# ç¯„ä¾‹
print(hex(encode_byte(0xAA)))  # æ‡‰è©²è¼¸å‡º: 0xe8e8e8e8
```

### æ™‚åºè¨ˆç®—

- SPIé »ç‡: 3.3MHz â†’ é€±æœŸç´„303ns
- æ¯å€‹é‚è¼¯ä½å…ƒ: 4å€‹SPIä½å…ƒ â†’ ç´„1.21Î¼s
- æ¯å€‹é¡è‰²: 8å€‹é‚è¼¯ä½å…ƒ â†’ ç´„9.68Î¼s  
- å®Œæ•´RGB: 24å€‹é‚è¼¯ä½å…ƒ â†’ ç´„29Î¼s
- åŠ ä¸ŠLatch: ç¸½è¨ˆç´„89Î¼s

ä½¿ç”¨é€™å€‹æŒ‡å—ï¼Œä½ å°±å¯ä»¥æº–ç¢ºåœ°é©—è­‰aRGB LEDçš„SPIæ§åˆ¶è¨Šè™Ÿäº†ï¼
